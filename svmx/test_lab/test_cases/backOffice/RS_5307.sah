
//author - Nagendra Prasad

var $RS_5307 = _testcase("$RS_5307","Get Price on WO:IB covered under SCON and part pricing provided");
$RS_5307.start();
_setSpeed(100);

//PreCondition 
//$bo_act_login.login($g_url, $bac_unDev, $bac_pwdDev);
var $accName = $bo_act_accounts.createAccount();
var $contactName = $bo_act_contacts.createContact($accName);
var $proName = $bo_act_products.createProduct("pro12", "--None--");
var $installedProduct = $bo_act_installedProduct.createInstalledProduct($proName,$accName,$contactName);
var $slaTermName = $bo_act_slaTerms.createSlaTerms("Default");
var $sconName = $bo_act_serviceMaintenanceContracts.createServiceMaintenanceContract($accName, $slaTermName, "2", "0");
$bo_act_serviceMaintenanceContracts.activateServiceContract($sconName);
//Adding covered product to Scon
$bo_act_serviceMaintenanceContracts.AddCoveredProducToServiceContract($sconName, $installedProduct, $slaTermName, "2", "1");
$bo_act_serviceMaintenanceContracts.addPartsPricingToServiceContract($sconName, $proName, "300");
var $WONumber = $bo_act_installedProduct.createWOFromIB($installedProduct);

// Editing the Above created WO
$bo_act_workOrders.editWorkOrder($WONumber);
var $accountObject = _textbox("/Account/");
var $contactObject = _textbox("/Contact/");
$bo_act_workOrders.updateTextBoxFields($accountObject, $accName);
$bo_act_workOrders.updateTextBoxFields($contactObject, $contactName);

$bo_act_workOrders.checkEntitlement($WONumber);




//Clean up function

var $datacreated = [$warrantyName,$IBName,$locationName,$productName,$contactName,$accountName,];
for (var i = 0; i < $datacreated.length; i++) {
	$bo_act_common.cleanUpfunction($datacreated[i]);
}
$bo_act_login.logOut();

$RS_7288.end();

