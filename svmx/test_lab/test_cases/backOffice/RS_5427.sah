var $RS_5427 = _testcase("RS_5427", "On deleting a SFW/SFM/CA and check SFM App Permission page for deleted process");
$RS_5427.start();
_setSpeed(100);
var $sfmName = "SFM_Interact701";
var $custActname="Cutom Action 5427";
var $custActID="CustomAction_5427";
var $url="https://www.google.co.in/";
var $objectName="Preventive Maintenance Plan"
var $actnType="URL";
var $objName2="Preventive Maintenance Plan";
var $wizardname="TestWizard701";
var $wizardID="TestWizard701";
var $fieldActnType="SFM";
var $actnName2=$sfmName;
var $executionMode2 = "Background";
var $wizardStepType="Others";
var $wizardStepName= $custActname;
$bo_act_login.login($g_url, $bac_unBase, $bac_pwdBase);
//-----------------CREATE SFM----------------------------------------------
$bo_act_navigation.navigateToSfmTransactionDesigner();
_wait(60000, _isVisible($bo_pg_sfmTransactionAndDesigner.btn_newSFM));
$bo_act_SFM.renameClonesfm($sfmName);
_wait(60000, _isVisible($bo_pg_sfmTransactionAndDesigner.btn_backToList));
	
if (_assertExists($bo_pg_sfmTransactionAndDesigner.btn_backToList)){
	
	_log("SFm created successfully");
} else {
	_fail("SFM creation is unsuccessfull");
	_stopTestCase();
};

//------------------------------------CREATE CUSTOM ACTION----------------------
$bo_act_navigation.navigateToSfmCustomAction();
$bo_act_customAction.createNewCustomAction($custActname,$custActID,$url,$objectName,$actnType);		
_setSpeed(3000);

//---------------------CREATE WIZARD AND ADD CUSTOM ACTION AND SFM TO IT---------------------------
if($bo_act_navigation.navigateToSfmWizard($objName2,$wizardname,$wizardID,$fieldActnType,$actnName2,$executionMode2,$sfmName)){
	$bo_act_SFW.createWizardGeneralInfo($objName2,$wizardname,$wizardID);
	$bo_act_SFW.createWizardStep($fieldActnType,$actnName2,$executionMode2);
	$bo_act_SFW.addCustomActionToWizard($wizardStepType,$wizardStepName);
	$bo_act_sfmVerifyWorkOrder.verifyWizardOnPMPObj($sfmName);
	_log("SFm wizard visible");	
	
}else{
	_fail("Navigation To SFM Wizard Failed");
	_stopTestCase();
};

$bo_act_navigation.navigateToSfmWizard($objName2,$wizardname,$wizardID,$fieldActnType,$actnName2,$executionMode2,$sfmName);
$bo_act_SFW.deleteWizard();

if (_assertExists($bo_pg_sfmWizard.lbl_deleteSuccessfulMsg)){
	_log("Wizard deleted successfully");
}else{
	_fail("deletion of Wizard unsuccessful");
	_stopTestCase();
}
$bo_act_sfmVerifyWorkOrder.verifyWizardOnPMPObj($sfmName);
_log("SFM Wizard is not visible");

_setSpeed(100);

$RS_5427.end();







