var $sfmNameToBeCloned = "Manage Work Order Lines - Usage";
var $sfmName = "RS_6979_RollupFormula";
var $isCustom = false;
var $sfmTemplate = "SVMXSTD: Manage WO Usage Lines";
var $sfmTemplateSaveAsName = $sfmName;
var $domainName = "svmxc.cs19.visual.force.com";
var $wizardName = "SFM Delivery Auto";
var $wizardType = "SFM";
var $wizardObject ="Work Order";
var $containerNameArray = ["Order Status","Order Status",];
var $fieldNameArray = ["Travel Rate","Proforma Invoice Amount"];

var $formulaTargetObjectArray = ["Parts","Work Order", "Work Order"];
var $formulaTargetFieldArray = ["Billable Line Price","Travel Rate","Proforma Invoice Amount" ];
var $formulaNameArray = ["MathFormula", "SUMOF", "MAXOF"];
var $formulaDescriptionArray =["Line quantity * Line price", "SumOf BillableLinePrice","MaxOf BillableLinePrice"];
var $formulaArray = ["$F.MULTIPLY($D.Parts.SVMXC__Actual_Quantity2__c,$D.Parts.SVMXC__Actual_Price2__c)",
                     "$F.SUMOF($D.Parts.SVMXC__Billable_Line_Price__c)",
                     "$F.MAXOF($D.Parts.SVMXC__Billable_Line_Price__c)"
                     ];

var $woName ="WO-00000058";


_setSpeed(100);
$bo_act_login.login($g_url, $sfmUsn, $sfmPwd);
/*
//create the process and add formula to the process
$sfm_act_SFM.cloneTDM016($sfmNameToBeCloned, $sfmName, $isCustom, $sfmTemplate, $sfmTemplateSaveAsName,$fieldNameArray, $containerNameArray);
$sfm_pg_formula.createFormula($formulaTargetObjectArray, $formulaTargetFieldArray, $formulaNameArray, $formulaDescriptionArray, $formulaArray);
_click($sfm_pg_sfmDesigner.btn_quickSaveSFM);
_click($sfm_pg_sfmDesigner.btn_saveSFM); 
_wait(30000,_isVisible($sfm_pg_sfmDesigner.lnk_home)); 

//add the process to wizard
$sfm_act_wizards.addToWizard($wizardObject, $wizardName, $wizardType, $sfmName);
_wait(30000,_isVisible($sfm_pg_sfmDesigner.lnk_home)); 
_click($sfm_pg_sfmDesigner.lnk_home); 

//Create WO dynamically and search that work order in global search and validate in delivery.
$login = $sfm_act_createWorkOrder.login($sfmUsn, $sfmPwd);
$woName = $sfm_act_createWorkOrder.create_WO(); */

_wait(3000);
$sfm_act_common.globalSearch($woName);
_click(_link($woName));
_selectDomain($domainName);
_click(_button($sfmName));
_selectDomain();
_wait(5000);

